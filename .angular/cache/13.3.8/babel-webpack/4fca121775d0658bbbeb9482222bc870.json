{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { map, of, startWith } from 'rxjs';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/flight.service\";\nimport * as i2 from \"ngx-spinner\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/divider\";\nimport * as i7 from \"@angular/material/card\";\nimport * as i8 from \"@angular/material/form-field\";\nimport * as i9 from \"@angular/material/select\";\nimport * as i10 from \"@angular/material/core\";\nimport * as i11 from \"@angular/common\";\nimport * as i12 from \"@angular/material/input\";\nimport * as i13 from \"@angular/material/autocomplete\";\nimport * as i14 from \"@angular/material/icon\";\n\nfunction ViajesComponent_div_19_mat_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const value_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", value_r6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(value_r6);\n  }\n}\n\nconst _c0 = function () {\n  return [2, 3, 4, 5];\n};\n\nfunction ViajesComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"mat-form-field\")(2, \"mat-select\", 17)(3, \"mat-option\", 8);\n    i0.ɵɵtext(4, \"Directo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, ViajesComponent_div_19_mat_option_5_Template, 2, 2, \"mat-option\", 12);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"value\", 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(2, _c0));\n  }\n}\n\nfunction ViajesComponent_mat_option_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const moneda_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", moneda_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", moneda_r7, \" \");\n  }\n}\n\nfunction ViajesComponent_div_27_div_2_mat_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const option_r19 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", option_r19);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", option_r19, \" \");\n  }\n}\n\nfunction ViajesComponent_div_27_div_2_mat_error_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Field is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ViajesComponent_div_27_div_2_mat_error_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Minimun is three characters \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ViajesComponent_div_27_div_2_mat_option_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const option_r20 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", option_r20);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", option_r20, \" \");\n  }\n}\n\nfunction ViajesComponent_div_27_div_2_mat_error_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Field is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ViajesComponent_div_27_div_2_mat_error_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Minimun is three characters \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ViajesComponent_div_27_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 20)(2, \"mat-form-field\");\n    i0.ɵɵelement(3, \"input\", 21);\n    i0.ɵɵelementStart(4, \"mat-autocomplete\", null, 22);\n    i0.ɵɵtemplate(6, ViajesComponent_div_27_div_2_mat_option_6_Template, 2, 2, \"mat-option\", 12);\n    i0.ɵɵpipe(7, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, ViajesComponent_div_27_div_2_mat_error_8_Template, 2, 0, \"mat-error\", 13);\n    i0.ɵɵtemplate(9, ViajesComponent_div_27_div_2_mat_error_9_Template, 2, 0, \"mat-error\", 13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 20)(11, \"mat-form-field\");\n    i0.ɵɵelement(12, \"input\", 23);\n    i0.ɵɵelementStart(13, \"mat-autocomplete\", null, 24);\n    i0.ɵɵtemplate(15, ViajesComponent_div_27_div_2_mat_option_15_Template, 2, 2, \"mat-option\", 12);\n    i0.ɵɵpipe(16, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(17, ViajesComponent_div_27_div_2_mat_error_17_Template, 2, 0, \"mat-error\", 13);\n    i0.ɵɵtemplate(18, ViajesComponent_div_27_div_2_mat_error_18_Template, 2, 0, \"mat-error\", 13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 25)(20, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function ViajesComponent_div_27_div_2_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      return ctx_r21.addItem();\n    });\n    i0.ɵɵelementStart(21, \"mat-icon\");\n    i0.ɵɵtext(22, \"plus_one\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(23, \"div\", 25)(24, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function ViajesComponent_div_27_div_2_Template_button_click_24_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const i_r10 = restoredCtx.index;\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return ctx_r23.deleteItem(i_r10);\n    });\n    i0.ɵɵelementStart(25, \"mat-icon\");\n    i0.ɵɵtext(26, \"delete\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const i_r10 = ctx.index;\n\n    const _r11 = i0.ɵɵreference(5);\n\n    const _r15 = i0.ɵɵreference(14);\n\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroupName\", i_r10);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", ctx_r8.multitrip.controls[i_r10].get(\"origin\").value)(\"matAutocomplete\", _r11);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(7, 13, ctx_r8.filteredOptionorigin));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.multitrip.controls[i_r10].get(\"origin\").hasError(\"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.multitrip.controls[i_r10].get(\"origin\").hasError(\"minlength\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroupName\", i_r10);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", ctx_r8.multitrip.controls[i_r10].get(\"destination\").value)(\"matAutocomplete\", _r15);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(16, 15, ctx_r8.filteredOptionsdestination));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.multitrip.controls[i_r10].get(\"destination\").hasError(\"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.multitrip.controls[i_r10].get(\"destination\").hasError(\"minlength\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"disabled\", i_r10 == 0);\n  }\n}\n\nfunction ViajesComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 18);\n    i0.ɵɵtemplate(2, ViajesComponent_div_27_div_2_Template, 27, 17, \"div\", 19);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.multitrip.controls);\n  }\n}\n\nfunction ViajesComponent_div_28_mat_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const option_r32 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", option_r32);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", option_r32, \" \");\n  }\n}\n\nfunction ViajesComponent_div_28_mat_error_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Field is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ViajesComponent_div_28_mat_error_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Minimun is three characters \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ViajesComponent_div_28_mat_option_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const option_r33 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", option_r33);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", option_r33, \" \");\n  }\n}\n\nfunction ViajesComponent_div_28_mat_error_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Field is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ViajesComponent_div_28_mat_error_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Minimun is three characters \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ViajesComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 28)(2, \"mat-form-field\");\n    i0.ɵɵelement(3, \"input\", 29);\n    i0.ɵɵelementStart(4, \"mat-autocomplete\", null, 22);\n    i0.ɵɵtemplate(6, ViajesComponent_div_28_mat_option_6_Template, 2, 2, \"mat-option\", 12);\n    i0.ɵɵpipe(7, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, ViajesComponent_div_28_mat_error_8_Template, 2, 0, \"mat-error\", 13);\n    i0.ɵɵtemplate(9, ViajesComponent_div_28_mat_error_9_Template, 2, 0, \"mat-error\", 13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 28)(11, \"mat-form-field\");\n    i0.ɵɵelement(12, \"input\", 30);\n    i0.ɵɵelementStart(13, \"mat-autocomplete\", null, 24);\n    i0.ɵɵtemplate(15, ViajesComponent_div_28_mat_option_15_Template, 2, 2, \"mat-option\", 12);\n    i0.ɵɵpipe(16, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(17, ViajesComponent_div_28_mat_error_17_Template, 2, 0, \"mat-error\", 13);\n    i0.ɵɵtemplate(18, ViajesComponent_div_28_mat_error_18_Template, 2, 0, \"mat-error\", 13);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const _r24 = i0.ɵɵreference(5);\n\n    const _r28 = i0.ɵɵreference(14);\n\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"matAutocomplete\", _r24);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(7, 8, ctx_r3.filteredOptionorigin));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.formViaje.get(\"origin\").hasError(\"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.formViaje.get(\"origin\").hasError(\"minlength\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"matAutocomplete\", _r28);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(16, 10, ctx_r3.filteredOptionsdestination));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.formViaje.get(\"destination\").hasError(\"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.formViaje.get(\"destination\").hasError(\"minlength\"));\n  }\n}\n\nfunction ViajesComponent_mat_card_33_mat_card_subtitle_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card-subtitle\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r34 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"origin: \", ctx_r34.dataFlight.origin, \" - destination: \", ctx_r34.dataFlight.destination, \"\");\n  }\n}\n\nfunction ViajesComponent_mat_card_33_div_8_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const s_r38 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r38.origin);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r38.destination);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 5, s_r38.price, \"USD\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(s_r38.transport.flightNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r38.transport.flightCarrier);\n  }\n}\n\nfunction ViajesComponent_mat_card_33_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"table\", 32)(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Origin\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Destination\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Price \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Flight Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Flight Carrier\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(14, ViajesComponent_mat_card_33_div_8_tr_14_Template, 12, 8, \"tr\", 33);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const s_r36 = ctx.$implicit;\n    i0.ɵɵadvance(14);\n    i0.ɵɵproperty(\"ngForOf\", s_r36);\n  }\n}\n\nfunction ViajesComponent_mat_card_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\")(1, \"mat-card-header\");\n    i0.ɵɵelement(2, \"div\", 31);\n    i0.ɵɵtemplate(3, ViajesComponent_mat_card_33_mat_card_subtitle_3_Template, 2, 2, \"mat-card-subtitle\", 13);\n    i0.ɵɵelementStart(4, \"mat-card-title\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"mat-card-content\");\n    i0.ɵɵtemplate(8, ViajesComponent_mat_card_33_div_8_Template, 15, 1, \"div\", 19);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.dataFlight.origin && ctx_r4.dataFlight.destination);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"price: \", i0.ɵɵpipeBind3(6, 3, ctx_r4.dataFlight.price, ctx_r4.formViaje.get(\"currency\").value, \"code\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.dataFlight.flights);\n  }\n}\n\nexport let ViajesComponent = /*#__PURE__*/(() => {\n  class ViajesComponent {\n    constructor(serviceVuelos, spinner, fb, router) {\n      this.serviceVuelos = serviceVuelos;\n      this.spinner = spinner;\n      this.fb = fb;\n      this.router = router;\n      this.ONEWAY = '0';\n      this.MULTIFLIGHT = '1';\n      this.ROUNDTRIP = '2';\n      this.panelOpenState = true;\n      this.listorigin = [];\n      this.listDestination = [];\n      this.listMonedas = [\"USD\", \"COP\", \"EUR\"];\n      this.dataFlight = {};\n      this.precios = [];\n    }\n\n    get multitrip() {\n      return this.formViaje.get('multitrip');\n    }\n\n    addItem() {\n      const item = this.fb.group({\n        origin: ['', [Validators.required, Validators.minLength(3)]],\n        destination: ['', [Validators.required, Validators.minLength(3)]]\n      });\n      this.multitrip.push(item);\n    }\n\n    deleteItem(index) {\n      if (this.multitrip.length > 1) this.multitrip.removeAt(index);\n    }\n\n    ngOnInit() {\n      var _a;\n\n      this.spinner.show(undefined, {\n        fullScreen: true\n      });\n      this.formViaje = this.fb.group({\n        origin: ['', [Validators.required, Validators.minLength(3)]],\n        destination: ['', [Validators.required, Validators.minLength(3)]],\n        multitrip: this.fb.array([this.fb.group({\n          origin: [''],\n          destination: ['']\n        })]),\n        scales: [0],\n        typeFlight: [this.ONEWAY],\n        currency: ['USD']\n      });\n      this.serviceVuelos.getAll().subscribe({\n        next: resp => {\n          this.spinner.hide();\n          resp.forEach(x => {\n            if (this.listorigin.find(y => y == x.origin) == undefined) {\n              this.listorigin.push(x.origin);\n            }\n\n            ;\n\n            if (this.listDestination.find(y => y == x.destination) == undefined) {\n              this.listDestination.push(x.destination);\n            }\n          });\n        },\n        error: error => {\n          this.spinner.hide();\n          Swal.fire(\"Error\", error.error.Message, 'error');\n        }\n      });\n      (_a = this.multitrip) === null || _a === void 0 ? void 0 : _a.valueChanges.subscribe(changes => {\n        console.log('Form value changed: ', changes);\n        changes.forEach((element, index) => {\n          var _a, _b;\n\n          let origin = (_a = element === null || element === void 0 ? void 0 : element.origin) === null || _a === void 0 ? void 0 : _a.toUpperCase();\n          let destination = (_b = element === null || element === void 0 ? void 0 : element.destination) === null || _b === void 0 ? void 0 : _b.toUpperCase();\n\n          if (this.multitrip.controls[index + 1]) {\n            this.multitrip.controls[index + 1].get('origin').setValue(destination, {\n              emitEvent: false\n            });\n          }\n\n          this.filteredOptionorigin = of(this._filterListaorigin(origin, changes.map(g => g.destination)));\n          this.filteredOptionsdestination = of(this._filterListDestination(destination, changes.map(g => g.origin)));\n        });\n      });\n      this.filteredOptionorigin = this.formViaje.get(\"origin\").valueChanges.pipe(startWith(''), map(value => this._filterListaorigin(value.toUpperCase(), [this.formViaje.get(\"destination\").value.toUpperCase()])));\n      this.filteredOptionsdestination = this.formViaje.get(\"destination\").valueChanges.pipe(startWith(''), map(value => this._filterListDestination(value.toUpperCase(), this.formViaje.get(\"destination\").value.toUpperCase())));\n      this.onChangeMoneda();\n      this.onTypeFlightChange();\n    }\n\n    onSubmit() {\n      if (!this.formViaje.valid) {\n        Swal.fire(\"It's something going bad \", \"please validate the data to seach before to try to send again\", \"warning\");\n        return;\n      }\n\n      let viaje = Object.assign(Object.assign({}, this.formViaje.value), {\n        origin: this.formViaje.get('typeFlight').value == this.MULTIFLIGHT ? '' : this.formViaje.get('origin').value.toUpperCase(),\n        destination: this.formViaje.get('typeFlight').value == this.MULTIFLIGHT ? '' : this.formViaje.get('destination').value.toUpperCase(),\n        currency: this.formViaje.get('currency').value\n      });\n      this.spinner.show(undefined, {\n        fullScreen: true\n      });\n      this.serviceVuelos.get(viaje).subscribe({\n        next: resp => {\n          this.spinner.hide();\n          this.dataFlight = Object.assign({}, resp);\n          if (this.dataFlight.flights.length == 0) Swal.fire(\"Informacion\", \"No pudimos encontrar una ruta de acuerdo a tu busqueda\", \"info\");\n        },\n        error: err => {\n          Swal.fire(\"Error\", \"Error al traer los datos\", \"error\");\n          this.spinner.hide();\n        }\n      });\n    }\n\n    onSalir() {\n      localStorage.removeItem(\"login\");\n      this.router.navigateByUrl('/login');\n    }\n\n    onTypeFlightChange() {\n      const itemsFormArray = this.formViaje.get('multitrip');\n      this.formViaje.get(\"typeFlight\").valueChanges.subscribe(type => {\n        if (type == this.MULTIFLIGHT) {\n          itemsFormArray.controls.forEach(control => {\n            control.get('origin').setValidators([Validators.required, Validators.minLength(3)]);\n            control.get('destination').setValidators([Validators.required, Validators.minLength(3)]);\n          });\n          this.formViaje.get('destination').clearValidators();\n          this.formViaje.get('origin').clearValidators();\n        } else {\n          itemsFormArray.controls.forEach(control => {\n            control.get('origin').clearValidators();\n            control.get('origin').updateValueAndValidity();\n            control.get('destination').clearValidators();\n            control.get('destination').updateValueAndValidity();\n          });\n          this.formViaje.get('origin').addValidators([Validators.required, Validators.minLength(3)]);\n          this.formViaje.get('destination').addValidators([Validators.required, Validators.minLength(3)]);\n        }\n\n        this.formViaje.get('origin').updateValueAndValidity();\n        this.formViaje.get('destination').updateValueAndValidity();\n      });\n    }\n\n    onChangeMoneda() {\n      this.formViaje.get(\"currency\").valueChanges.subscribe(c => {\n        this.onSubmit();\n      });\n    }\n\n    _filterListaorigin(value, exclude) {\n      return this.listorigin.filter(option => option.includes(value) && !exclude.includes(option));\n    }\n\n    _filterListDestination(value, exclude) {\n      return this.listDestination.filter(option => option.includes(value) && !exclude.includes(option));\n    }\n\n  }\n\n  ViajesComponent.ɵfac = function ViajesComponent_Factory(t) {\n    return new (t || ViajesComponent)(i0.ɵɵdirectiveInject(i1.FlightService), i0.ɵɵdirectiveInject(i2.NgxSpinnerService), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.Router));\n  };\n\n  ViajesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ViajesComponent,\n    selectors: [[\"app-viajes\"]],\n    decls: 35,\n    vars: 9,\n    consts: [[1, \"container\"], [1, \"row\"], [1, \"col-sm-12\", \"col-md-12\", \"col-lg-12\", \"col-xl-12\", \"col-xs-12\"], [\"type\", \"button\", \"mat-stroked-button\", \"\", \"color\", \"warn\", 3, \"click\"], [\"id\", \"persona\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"col-sm-12\", \"col-md-3\", \"col-lg-3\", \"col-xl-3\", \"col-xs-12\"], [\"formControlName\", \"typeFlight\", \"placeholder\", \"type of trip\"], [3, \"value\"], [\"class\", \"col-md-2 col-sm-2 col-lg-2 col-xl-2 col-xs-2\", 4, \"ngIf\"], [1, \"col-sm-2\", \"col-md-2\", \"col-lg-2\", \"col-xl-2\", \"col-xs-2\"], [\"formControlName\", \"currency\", 3, \"change\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"class\", \"row\", 4, \"ngIf\"], [\"type\", \"submit\", \"mat-flat-button\", \"\", \"color\", \"primary\"], [1, \"col-md-2\", \"col-sm-2\", \"col-lg-2\", \"col-xl-2\", \"col-xs-2\"], [\"formControlName\", \"scales\", \"placeholder\", \"Escalas\"], [\"formArrayName\", \"multitrip\"], [\"class\", \"row\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-sm-12\", \"col-md-5\", \"col-lg-5\", \"col-xl-5\", \"col-xs-12\", 3, \"formGroupName\"], [\"maxlength\", \"3\", \"type\", \"text\", \"matInput\", \"\", \"placeholder\", \"Origin\", \"onkeyup\", \"javascript:this.value=this.value.toUpperCase();\", \"formControlName\", \"origin\", 3, \"value\", \"matAutocomplete\"], [\"autoorigin\", \"matAutocomplete\"], [\"maxlength\", \"3\", \"type\", \"text\", \"matInput\", \"\", \"placeholder\", \"Destination\", \"onkeyup\", \"javascript:this.value=this.value.toUpperCase();\", \"formControlName\", \"destination\", 3, \"value\", \"matAutocomplete\"], [\"autodestination\", \"matAutocomplete\"], [1, \"col-sm-6\", \"col-md-1\", \"col-lg-1\", \"col-xl-1\", \"col-xs-6\"], [\"type\", \"button\", \"mat-icon-button\", \"\", 3, \"click\"], [\"type\", \"button\", \"mat-icon-button\", \"\", \"color\", \"warn\", 3, \"disabled\", \"click\"], [1, \"col-sm-12\", \"col-md-6\", \"col-lg-6\", \"col-xl-6\", \"col-xs-12\"], [\"maxlength\", \"3\", \"type\", \"text\", \"matInput\", \"\", \"placeholder\", \"origin\", \"onkeyup\", \"javascript:this.value=this.value.toUpperCase();\", \"formControlName\", \"origin\", 3, \"matAutocomplete\"], [\"maxlength\", \"3\", \"type\", \"text\", \"matInput\", \"\", \"placeholder\", \"destination\", \"onkeyup\", \"javascript:this.value=this.value.toUpperCase();\", \"formControlName\", \"destination\", 3, \"matAutocomplete\"], [\"mat-card-avatar\", \"\", 1, \"example-header-image\"], [\"cellspacing\", \"0\", \"width\", \"100%\", 1, \"table\", \"table-striped\", \"table-no-bordered\", \"table-hover\", 2, \"width\", \"100%\"], [4, \"ngFor\", \"ngForOf\"]],\n    template: function ViajesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function ViajesComponent_Template_button_click_3_listener() {\n          return ctx.onSalir();\n        });\n        i0.ɵɵtext(4, \"Salir\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(5, \"mat-divider\");\n        i0.ɵɵelementStart(6, \"mat-card\", 4)(7, \"form\", 5);\n        i0.ɵɵlistener(\"ngSubmit\", function ViajesComponent_Template_form_ngSubmit_7_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(8, \"section\")(9, \"div\", 1)(10, \"div\", 6)(11, \"mat-form-field\")(12, \"mat-select\", 7)(13, \"mat-option\", 8);\n        i0.ɵɵtext(14, \"One way\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"mat-option\", 8);\n        i0.ɵɵtext(16, \"Multi City\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"mat-option\", 8);\n        i0.ɵɵtext(18, \"Round trip\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(19, ViajesComponent_div_19_Template, 6, 3, \"div\", 9);\n        i0.ɵɵelementStart(20, \"div\", 10)(21, \"mat-form-field\")(22, \"mat-label\");\n        i0.ɵɵtext(23, \"Moneda\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"mat-select\", 11);\n        i0.ɵɵlistener(\"change\", function ViajesComponent_Template_mat_select_change_24_listener() {\n          return ctx.onChangeMoneda();\n        });\n        i0.ɵɵtemplate(25, ViajesComponent_mat_option_25_Template, 2, 2, \"mat-option\", 12);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(26, \"div\", 1);\n        i0.ɵɵtemplate(27, ViajesComponent_div_27_Template, 3, 1, \"div\", 13);\n        i0.ɵɵtemplate(28, ViajesComponent_div_28_Template, 19, 12, \"div\", 14);\n        i0.ɵɵelementStart(29, \"button\", 15);\n        i0.ɵɵtext(30, \"Buscar\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(31, \"mat-divider\")(32, \"br\");\n        i0.ɵɵtemplate(33, ViajesComponent_mat_card_33_Template, 9, 7, \"mat-card\", 13);\n        i0.ɵɵelement(34, \"br\");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"formGroup\", ctx.formViaje);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"value\", \"0\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", \"1\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", \"2\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.formViaje.get(\"typeFlight\").value != \"1\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.listMonedas);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.formViaje.get(\"typeFlight\").value == \"1\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.formViaje.get(\"typeFlight\").value != \"1\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", (ctx.dataFlight == null ? null : ctx.dataFlight.flights == null ? null : ctx.dataFlight.flights.length) > 0);\n      }\n    },\n    directives: [i5.MatButton, i6.MatDivider, i7.MatCard, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i8.MatFormField, i9.MatSelect, i3.NgControlStatus, i3.FormControlName, i10.MatOption, i11.NgIf, i11.NgForOf, i8.MatLabel, i3.FormArrayName, i3.FormGroupName, i12.MatInput, i3.DefaultValueAccessor, i13.MatAutocompleteTrigger, i3.MaxLengthValidator, i13.MatAutocomplete, i8.MatError, i14.MatIcon, i7.MatCardHeader, i7.MatCardAvatar, i7.MatCardSubtitle, i7.MatCardTitle, i7.MatCardContent],\n    pipes: [i11.AsyncPipe, i11.CurrencyPipe],\n    styles: [\"mat-form-field[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{top:35%}\"]\n  });\n  return ViajesComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}